
<div _ngcontent-hms-c1 ng-controller="appController as tab">
  <!-- <div ng-view></div> -->
  <app-header-home _ngcontent-qht-c1="" _nghost-qht-c2="">
    <nav _ngcontent-qht-c2="" class="navbar navbar-expand-lg navbar-dark bg-primary">
        <!-- button home -->
        <a _ngcontent-abn-c2="" class="navbar-brand" routerlink="/home" ng-reflect-router-link="/home" href="../index.html">
          <i _ngcontent-gwf-c2="" class="fa fa-home mr-2"></i>
          <span>PSC</span>  
          <!-- <img _ngcontent-abn-c2="" alt="SCP" class="brand-image " height="25px" src="home.png" style="opacity: 1"> -->
        </a>

        <button _ngcontent-vyn-c2="" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbarSupportedContent" data-toggle="collapse" type="button"><span _ngcontent-vyn-c2="" class="navbar-toggler-icon"></span></button>


        <div _ngcontent-qht-c2="" class="collapseadmin navbar-collapseadmin" id="navbarSupportedContent">
          <ul _ngcontent-qht-c2="" class="navbar-nav mr-auto">
              <li _ngcontent-qht-c2="" class="nav-item d-none d-lg-inline-block">
              <a _ngcontent-qht-c2="" class="nav-link">Phần mềm truy xuất nguồn gốc thịt lợn</a>
              </li>

          </ul>

          <!-- current username -->
          <ul _ngcontent-gwf-c2="" class="nav navbar-nav ml-auto-admin">
              <li _ngcontent-gwf-c2="" class="nav-item ">
              <a _ngcontent-gwf-c2="" id="clickCurrentUser" class="nav-link btn btn-outline-primary" ng-click="loadCurrentUser()" data-toggle="modal" data-target="#viewUserModal">
                <i _ngcontent-gwf-c2="" class="fa fa-user"></i>
                  <span _ngcontent-gwf-c2="" translate="signin" ng-reflect-translate="signin">
                      {{message}}
                  </span>
              </a>
              </li>
              <li _ngcontent-gwf-c2="" class="nav-item">
                  <a _ngcontent-gwf-c2="" class="nav-link btn btn-outline-primary bg-white text-dark" routerlink="/signup" style="color:#007bff!important" ng-reflect-router-link="/signup" ng-click="logOut()">
                  <span _ngcontent-gwf-c2="" translate="signup" ng-reflect-translate="signup">Logout</span>
                  </a>
              </li>

          </ul>
        
        </div>

    </nav>
  </app-header-home>

  <div _ngcontent-hms-c1="" class="content-wrapper-search">

    <router-outlet _ngcontent-hms-c1=""></router-outlet>

    <app-home _nghost-xxd-c4="">
      <div _ngcontent-xxd-c4="" class="row">
        <div _ngcontent-xxd-c4="" class="col-sm-12">
          <div _ngcontent-xxd-c4="" class="card card-primary">

            <ngb-tabset _ngcontent-xxd-c4="" class="nav-tab-custom-home">

              <!-- tablist -->
              <ul role="tablist" class="nav nav-tabs justify-content-start">
                
                <ul class="nav nav-pills">
                  <li ng-class="{active:tab.isSet(1)}"><a href ng-click="tab.setTab(1)">Duyệt thành viên</a></li>
                  <li ng-class="{active:tab.isSet(2)}"><a href ng-click="tab.setTab(2)">Danh sách Chuỗi cung ứng</a></li>
                  <li ng-class="{active:tab.isSet(3)}"><a href ng-click="tab.setTab(3)">Lịch sử</a></li>
                </ul>

              </ul>
              <!-- tablist -->
              
              <!-- tabcontent -->
              <div class="tab-content">

                <!-- tabpanel -->
                <div role="tabpanel" class="tab-pane active" aria-labelledby="ngb-tab-0" id="ngb-tab-0-panel" aria-expanded="true">
                  
                  <!-- tab members status -->
                  <div ng-show="tab.isSet(1)">

                      



                    <div _ngcontent-xxd-c4="" class="intro-head pr-2 pl-2"><h2 _ngcontent-xxd-c4="" translate="home.tab-one.title" ng-reflect-translate="home.tab-one.title">
                      <center>Trạng thái thành viên</center></h2>
                    </div>

                    <!-- Truy xuất thông tin All User -->
                    <div>
                      <div id="box">
                        <div class="form-group" >
                          <p><input id="queryAllUser" type="hidden" value="Query" class="btn btn-primary" ng-click="queryAllUser()"></p>
                          <a type="hidden">
                            {{countChain}}
                          </a>
                          
                        </div>
                        <center>
                            
                           Tìm kiếm:  <input ng-model="searchKeyword" type="text" placeholder="Search.."> &nbsp;
                            
                          </center>
                          <br>
                            
                        <table id="all_user" class="table-approve-user" >

                          <tr class="tr-approve-user">
                            <!-- <th>autonumber</th> -->
                            <th>
                                <a ng-click="orderByField='Key'; reverseSort = !reverseSort">
                                    <i class="fa fa-sort"></i>
                                    ID <span ng-show="orderByField == 'Key'"></span>
                                </a>
                              
                            </th>
                            <th>Tên tài khoản</th>
                            <th>Mật khẩu</th>
                            <th>Email</th>
                            <th colspan="2">
                              <a ng-click="orderByField='chainid'; reverseSort = !reverseSort">
                                  <i class="fa fa-sort"></i>
                                Mã chuỗi <span ng-show="orderByField == 'chainid'">
                                  <!-- <span ng-show="!reverseSort">^</span><span ng-show="reverseSort">v</span> -->
                                </span>
                              </a>
                            </th>
                            <th colspan="2">
                                <a ng-click="orderByField='roles'; reverseSort = !reverseSort">
                                    <i class="fa fa-sort"></i>
                                    Vai trò <span ng-show="orderByField == 'roles'"></span>
                                  </a>
                              </th>
                            <th colspan="2">
                              <a ng-click="orderByField='status'; reverseSort = !reverseSort">
                                  <i class="fa fa-sort"></i>
                                Trạng thái tài khoản <span ng-show="orderByField == 'status'"></span>
                              </a>
                            </th>
                            <th>
                                <a ng-click="orderByField='approve'; reverseSort = !reverseSort">
                                    <i class="fa fa-sort"></i>
                                    Phê Duyệt <span ng-show="orderByField == 'approve'"></span>
                                  </a>
                              </th>
                            <th>Thao tác</th>
                            
                          </tr>
                  
                          <tr dir-paginate="userquery in all_user  | orderBy:'-Key'| orderBy:'-roles' | orderBy:'-approve' | orderBy:orderByField:reverseSort  | filter: searchKeyword | itemsPerPage:5">
                            <!-- <td>{{$index + 1}}</td> -->
                            <td>{{userquery.Key}}</td>
                            <td>{{userquery.username}}</td>
                            <td>{{userquery.password}}</td>
                            <td>{{userquery.email}}</td>
                            <td>{{userquery.chainid}}</td>
                            <td>
                              
                              <!-- <button type="button" class="btn btn-primary btn-xs" ng-click="changeChainID(userquery.Key, userquery.username, userquery.chainid, userquery.roles)" ng-disabled="formeditchainid.$invalid" >
                                  <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                                  Edit 
                              </button> -->
                              <button class="btn btn-primary btn-xs" ng-click="getKeyForUpdateChainId(userquery.Key, userquery.username, userquery.chainid, userquery.roles)" data-toggle="modal" data-target="#editChainID">
                                  <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                                Edit
                              </button>
                            </td>
                            <td >{{userquery.roles}} </td>
                            <td>
                              <!-- <button class="btn btn-primary btn-xs" ng-click="changeRole(userquery.Key)" ng-disabled="formeditroles.$invalid">
                                <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                                  Edit 
                              </button> -->
                              <!-- <button class="btn btn-primary btn-xs" ng-click="getKeyForUpdateRoles(userquery.Key)" data-toggle="modal" data-target="#editRoles">
                                  <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                              Edit
                              </button> -->
                              
                            </td>
                            <td>{{userquery.status}}</td>
                            <td>
                                <!-- <button class="btn btn-primary btn-xs" ng-click="changeStatus(userquery.Key)" ng-disabled="formeditstatus.$invalid">
                                  <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                                    Edit 
                                </button> -->
                              <button class="btn btn-primary btn-xs" ng-click="getKeyForUpdateStatus(userquery.Key)" data-toggle="modal" data-target="#editStatus">
                                  <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                                Edit
                              </button>
                            </td>
                            <td>{{userquery.approve}}</td>
                            <td>
                                <button id="btnApprove" class="btn btn-primary btn-xs" ng-click="changeApprove(userquery.Key, userquery.username, userquery.chainid, userquery.roles, userquery.approve)" >
                                  <i _ngcontent-gwf-c2="" class="fa fa-edit"></i>
                                  Phê Duyệt 
                                </button>

                                    <!-- dong duoi de lay gia tri - co the ung dung sau nay -->
                                    <!-- <input type="text" ng-model="getRole" ng-init="getRole=userquery.Key"> -->

                                    
                              <!-- <button id="btnApprove" class="btn btn-primary btn-xs" value="Phê Duyệt" data-toggle="modal" data-target="#approveUser">
                                    
                                    Phê Duyệt
                                    </button> -->
                                    
                            </td>

                            <td>
                              <button class="delete" ng-click="deleteUser(userquery.Key)">
                                <i class="fa fa-trash"></i>
                              </button>
                            </td>
                            
                          </tr>
                        </table>
                        <center>
                          <dir-pagination-controls max-size="10" direction-links="true" boundary-links="true" >
                          </dir-pagination-controls>
                        </center>

                          
                      </div>
                    </div>




                    
                  </div>
                  <!-- end tab members status -->
                
                  <!-- tab chain management -->
                  <div ng-show="tab.isSet(2)">
                      
                    <!-- init chain -->
                    <!-- <div _ngcontent-xxd-c4="" class="intro-head pr-2 pl-2"><h2 _ngcontent-xxd-c4="" translate="home.tab-one.title" ng-reflect-translate="home.tab-one.title">
                        <center>Tạo chuỗi mới</center></h2>
                    </div> -->
                    
                    <!-- <div _ngcontent-bfd-c4="" class="search_frm pb-1">
                        <form _ngcontent-bfd-c4="" name="form" novalidate="" ng-reflect-form="[object Object]" class="ng-pristine ng-invalid ng-touched">
                          <div _ngcontent-bfd-c4="" class="row numberInfo search-widget">
                            <div _ngcontent-bfd-c4="" class="col-md-2">
                              
                            </div>
                            <div _ngcontent-bfd-c4="" class="col-md-8">
                              <div _ngcontent-bfd-c4="" class="row">
                                <div _ngcontent-bfd-c4="" class="col-sm-8 mb-2">
                                  <div _ngcontent-bfd-c4="" class="input-custom">

                                    <input _ngcontent-bfd-c4="" formcontrolname="idCer" placeholder="Ex: 1" ng-model="chain.id" type="text" ng-reflect-name="idCer" class="input-custom-control form-control form-control-lg ng-pristine ng-invalid ng-touched" placeholder="Nhập ID chuỗi" required>
                                    
                                    <br>
                                    
                                    <div _ngcontent-bfd-c4="" class="input-custom-label ">
                                      <span _ngcontent-bfd-c4="" class="text-danger">* </span>
                                      <span _ngcontent-bfd-c4="" translate="home.tab-two.ccsid-label" ng-reflect-translate="home.tab-two.ccsid-label">
                                        Nhập ID chuỗi
                                      </span>
                                    </div>
                                  </div>
                                </div>
                                <div _ngcontent-bfd-c4="" class="col-sm-4">
                                  <button _ngcontent-bfd-c4="" ng-disabled="form.$invalid" ng-click="initChainBtn()"  class="btn btn-primary btn-lg btn-block" type="submit">
                                    
                                    <span _ngcontent-bfd-c4="" class="btn-name-search" translate="home.btn-search" ng-reflect-translate="home.btn-search">
                                      Tạo
                                    </span>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div _ngcontent-bfd-c4="" class="col-md-2"></div>
                          </div>
                          <h5 style="color:green;margin-bottom:2%" id="success_create">Success! Tx ID: {{create_chain}}</h5>
                          

                        </form>
                      </div> -->
                    <!-- end init chain -->
                    

                    <!-- Truy xuất thông tin All Supply chain -->
                    <div>
                      <div id="box" >
                        <div class="form-group" >
                          <p><input id="queryAllPig" type="hidden" value="Query" class="btn btn-primary" ng-click="queryAllPig()"></p>                            
                        </div>

                        <h5 style="color:green;margin-bottom:2%" id="success_create">Success! Tx ID: {{create_chain}}</h5>

                        <!-- Export to Excel -->
                        <a type="button" class="btn btn-primary" ng-click="Export()">
                          <i _ngcontent-gwf-c2="" class="fa fa-download mr-2"></i>
                          Export to Excel
                        </a> 

                        <br>
                        <br>
                        <center>
                          <button id="toggleMessage" ng-click="toggle15=!toggle15" class="btn btn-primary">
                              {{toggle15 ? 'ẨN NÔNG TRẠI' : 'XEM NÔNG TRẠI'}}
                          </button>
                          <button id="toggleMessage" ng-click="toggle16=!toggle16" class="btn btn-primary">
                              {{toggle16 ? 'ẨN VẬN CHUYỂN' : 'XEM VẬN CHUYỂN'}}
                          </button>
                          <button id="toggleMessage" ng-click="toggle17=!toggle17" class="btn btn-primary">
                              {{toggle17 ? 'ẨN LÒ MỔ' : 'XEM LÒ MỔ'}}
                          </button>
                          <button id="toggleMessage" ng-click="toggle18=!toggle18" class="btn btn-primary">
                              {{toggle18 ? 'ẨN SIÊU THỊ' : 'XEM SIÊU THỊ'}}
                          </button>
                        </center>
                        <center>
                          <input ng-model="searchKeyword" type="text" placeholder="Tìm kiếm.." align="center"> &nbsp;
                        </center>
                      
                        <!-- query all chain -->
                        <table id="all_pig" class="table-status-members" align="center" >
                          <tr class="tr-status-members"> 
                            <th colspan="2" ng-show="toggle15">Chain ID</th>
                            <th colspan="9" ng-show="toggle15">Nông Trại</th>
                            <th colspan="2" ng-show="toggle16">Chain ID</th>
                            <th colspan="7" ng-show="toggle16">Vận Chuyển</th>
                            <th colspan="2" ng-show="toggle17">Chain ID</th>
                            <th colspan="6" ng-show="toggle17">Lò Mổ</th>
                            <th colspan="2" ng-show="toggle18">Chain ID</th>
                            <th colspan="8" ng-show="toggle18">Siêu Thị</th>
                          </tr>
                          <tr>
                            <th ng-show="toggle15">ID</th>
                            <th ng-show="toggle15">Mã QR</th>
                            <th ng-show="toggle15">Tài khoản</th>
                            <th ng-show="toggle15">Người nuôi</th>
                            <th ng-show="toggle15">Giống</th>
                            <th ng-show="toggle15">Thức ăn </th>
                            <th ng-show="toggle15">Bệnh - Chữa trị</th>
                            <th ng-show="toggle15">Chất lượng</th>
                            <th ng-show="toggle15">Địa chỉ</th>
                            <th ng-show="toggle15">Ngày nuôi</th>
                            <th ng-show="toggle15">Ngày bán</th>
                            <th ng-show="toggle16">ID</th>
                            <th ng-show="toggle16">Mã QR</th>
                            <th ng-show="toggle16">Tài khoản</th>
                            <th ng-show="toggle16">Tên công ty</th>
                            <th ng-show="toggle16">Người vận chuyển</th>
                            <th ng-show="toggle16">Phương tiện</th>
                            <th ng-show="toggle16">Vấn đề - Giải quyết</th>
                            <th ng-show="toggle16">Chất lượng</th>
                            <th ng-show="toggle16">Thời gian</th>
                            <th ng-show="toggle17">ID</th>
                            <th ng-show="toggle17">Mã QR</th>
                            <th ng-show="toggle17">Tài khoản</th>
                            <th ng-show="toggle17">Tên lò mổ</th>
                            <th ng-show="toggle17">Vấn đề - Giải quyết</th>
                            <th ng-show="toggle17">Địa chỉ</th>
                            <th ng-show="toggle17">Chất lượng</th>
                            <th ng-show="toggle17">Thời gian mổ</th>
                            <th ng-show="toggle18">ID</th>
                            <th ng-show="toggle18">Mã QR</th>
                            <th ng-show="toggle18">Tài khoản</th>
                            <th ng-show="toggle18">Tên Siêu thị</th>
                            <th ng-show="toggle18">Vấn đề - Giải quyết</th>
                            <th ng-show="toggle18">Chát lượng</th>
                            <!-- <th ng-show="toggle18">Giá</th>
                            <th ng-show="toggle18">Số lượng còn lại</th> -->
                            <th ng-show="toggle18">NSX</th>
                            <th ng-show="toggle18">HSD</th>
                          </tr>
                  
                          <tr dir-paginate="pig in all_pig | orderBy:'-Key' | filter: searchKeyword | itemsPerPage:5">
                            <td ng-show="toggle15">{{pig.Key}}</td>
                            <td ng-show="toggle15">
                              <label id="text" type="text" 
                                    value="{{pig.Key}}" style="Width:0%"
                                    onblur='generateBarCode();' > </label>

                              <img id='barcode' 
                                    src="https://api.qrserver.com/v1/create-qr-code/?data= Key: {{pig.Key}} | Sick: {{pig.sick_cure}}  | Farm-Qualified: {{pig.farm_qualified}} | Supermarket-Qualified: {{pig.supermarket_qualified}}&amp;size=500x500" 
                                    alt="" 
                                    title="HELLO" 
                                    width="50" 
                                    height="50" />
                            </td>
                            
                            <td ng-show="toggle15">{{pig.farm_account}}</td>
                            <td ng-show="toggle15">{{pig.famer}} <br></td>
                            <td ng-show="toggle15">{{pig.species}}</td>
                            <td ng-show="toggle15">{{pig.food}}</td>
                            <td ng-show="toggle15">{{pig.sick_cure}}</td>
                            <td ng-show="toggle15">{{pig.farm_qualified}}</td>
                            <td ng-show="toggle15">{{pig.farm_location}}</td>
                            <td ng-show="toggle15">{{pig.start_date_of_farming}}</td>
                            <td ng-show="toggle15">{{pig.end_date_of_farming}}</td>
                            <!-- transport -->
                            <td ng-show="toggle16">{{pig.Key}}</td>
                            <td ng-show="toggle16">
                              <label id="text" type="text" 
                                    value="{{pig.Key}}" style="Width:0%"
                                    onblur='generateBarCode();' > </label>

                              <img id='barcode' 
                                    src="https://api.qrserver.com/v1/create-qr-code/?data= Key: {{pig.Key}} | Sick: {{pig.sick_cure}}  | Farm-Qualified: {{pig.farm_qualified}} | Supermarket-Qualified: {{pig.supermarket_qualified}}&amp;size=500x500" 
                                    alt="" 
                                    title="HELLO" 
                                    width="50" 
                                    height="50" />
                            </td>
                            <td ng-show="toggle16">{{pig.transport_account}}</td>
                            <td ng-show="toggle16">{{pig.company}}</td>
                            <td ng-show="toggle16">{{pig.transporter}}</td>
                            <td ng-show="toggle16">{{pig.vehicle}}</td>
                            <td ng-show="toggle16">{{pig.transport_trouble_solution}}</td>
                            <td ng-show="toggle16">{{pig.transport_qualified}}</td>
                            <td ng-show="toggle16">{{pig.time}}</td>
                            <!-- lò mổ -->
                            <td ng-show="toggle17">{{pig.Key}}</td>
                            <td ng-show="toggle17">
                              <label id="text" type="text" 
                                    value="{{pig.Key}}" style="Width:0%"
                                    onblur='generateBarCode();' > </label>

                              <img id='barcode' 
                                    src="https://api.qrserver.com/v1/create-qr-code/?data= Key: {{pig.Key}} | Sick: {{pig.sick_cure}}  | Farm-Qualified: {{pig.farm_qualified}} | Supermarket-Qualified: {{pig.supermarket_qualified}}&amp;size=500x500" 
                                    alt="" 
                                    title="HELLO" 
                                    width="50" 
                                    height="50" />
                            </td>
                            <td ng-show="toggle17">{{pig.abattoir_account}}</td>
                            <td ng-show="toggle17">{{pig.abattoir_name}}</td>
                            <td ng-show="toggle17">{{pig.abattoir_trouble_solution}}</td>
                            <td ng-show="toggle17">{{pig.abattoir_location}}</td>
                            <td ng-show="toggle17">{{pig.abattoir_qualified}}</td>
                            <td ng-show="toggle17">{{pig.peck_time}}</td>
                            <!-- siêu thị -->
                            <td ng-show="toggle18">{{pig.Key}}</td>
                            <td ng-show="toggle18">
                              <label id="text" type="text" 
                                    value="{{pig.Key}}" style="Width:0%"
                                    onblur='generateBarCode();' > </label>

                              <img id='barcode' 
                                    src="https://api.qrserver.com/v1/create-qr-code/?data= Key: {{pig.Key}} | Sick: {{pig.sick_cure}}  | Farm-Qualified: {{pig.farm_qualified}} | Supermarket-Qualified: {{pig.supermarket_qualified}}&amp;size=500x500" 
                                    alt="" 
                                    title="HELLO" 
                                    width="70" 
                                    height="70" />
                            </td>
                            <td ng-show="toggle18">{{pig.supermarket_account}}</td>
                            <td ng-show="toggle18">{{pig.supermarket_name}}</td>
                            <td ng-show="toggle18">{{pig.supermarket_trouble_solution}}</td>
                            <td ng-show="toggle18">{{pig.supermarket_qualified}}</td>
                            <!-- <td ng-show="toggle18">{{pig.price}}</td>
                            <td ng-show="toggle18">{{pig.quantity_remaining}}</td> -->
                            <td ng-show="toggle18">{{pig.manufacturing_date}}</td>
                            <td ng-show="toggle18">{{pig.expiry_date}}</td>
                          </tr>


                        </table>
                        <center>
                          <dir-pagination-controls max-size="10" direction-links="true" boundary-links="true" >
                          </dir-pagination-controls>
                        </center>
                        <!-- end query all chain -->

                        
                      </div>
                    </div>


                  </div>
                   <!-- end tab chain management -->

                  <!-- tab set3 -->
                  <div ng-show="tab.isSet(3)">
                      <div _ngcontent-xxd-c4="" class="intro-head pr-2 pl-2"><h2 _ngcontent-xxd-c4="" translate="home.tab-one.title" ng-reflect-translate="home.tab-one.title">
                          <center>Lịch sử tương tác với dữ liệu trong Ledger</center></h2>
                        </div>

                    <!-- Truy xuất thông tin All User -->
                    <div>
                        <div id="box">
                          <div class="form-group" >
                            <p><input id="queryAllHistoryTxID" type="hidden" value="queryAllHistoryTxID" class="btn btn-primary" ng-click="queryAllHistoryTxID()"></p>
                            
                            
                          </div>
                          <center>
                            Tìm kiếm:  <input ng-model="searchKeyword" type="text" placeholder="Search.."> &nbsp;
                          </center>
                              
                          <table id="all_history_txid" class="table-approve-user" >

                              <tr class="tr-approve-user">
                                <th>STT</th>
                                <!-- <th>ID</th> -->
                                <th>Tx ID</th>
                                <th>Tên tài khoản</th>
                                <th>Thao tác</th>
                                
                                <th >Thời điểm</th>

                                
                              </tr>
                            <tbody dir-paginate="history in all_history_txid | orderBy:'-create_time' | filter: searchKeyword | itemsPerPage:5">
                              <tr >
                                <td>{{$index + 1}}</td>
                                <!-- <td>{{history.Key}}</td> -->
                                <td>{{history.txid}}</td>
                                <td>{{history.account}}</td>
                                <td>{{history.job}}</td>
                                <td>{{history.create_time}}</td>
                                <!-- <td>{{timeAgo}}</td> -->
                                
                              </tr>
                            </tbody>
                            
                          </table>
                          <center>
                            <dir-pagination-controls max-size="10" direction-links="true" boundary-links="true" >
                            </dir-pagination-controls>
                          </center>
                            
  
                            
                        </div>
                      </div>

                    </form>
                  </div> 

                  </div>
                  <!-- end tab set3 -->

                  <!-- MODAL -->
                  <!-- modal view farm -->
                  <div class="modal fade" id="viewFarm">
                      <div class="modal-dialog">
                          
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                    data-dismiss="modal">x
                                  </button>
                                  <h4 class="modal-title">Edit Chain ID</h4> <br>
                              </div>
                              
  
                              
                              <div class="modal-body">
                                  <!-- <h5 style="color:green;margin-bottom:2%" id="success_editChainID">Success! Tx ID: {{edit_chainid}}</h5> -->
                                  <!-- <div class="form-group" >
                                    <p><input id="queryAllUser" type="submit" value="Query" class="btn btn-primary" ng-click="queryAllUser()"></p>
                                  </div> -->
                                  <!-- <h5 style="color:red;margin-bottom:2%" id="error_editChainID">Error: Please enter a valid Id</h5> -->
                                  <!-- <table id="all_pig" class="table-status-members" align="center">
                                  <tr class="tr-status-members"> 
                                    
                                    <th colspan="7" >Nông Trại</th>
                                    
                                  </tr>
                                  <tr>
                                    
                                    <th >Famer</th>
                                    <th >Species</th>
                                    <th >Food </th>
                                    <th >Sick_Cure</th>
                                    <th >Location</th>
                                    <th >Start_Date</th>
                                    <th >End_Date</th>
                                    
                                  </tr>
                          
                                  <tr ng-repeat="pig in all_pig | orderBy:'-Key'">
                                    
                                    
                    
                                    <td >{{pig.famer}}</td>
                                    <td >{{pig.species}}</td>
                                    <td >{{pig.food}}</td>
                                    <td >{{pig.sick_cure}}</td>
                                    <td >{{pig.farm_location}}</td>
                                    <td >{{pig.start_date_of_farming}}</td>
                                    <td >{{pig.end_date_of_farming}}</td>
                                    
                                  </tr>
                                </table> -->
  
                                  <h5>Bạn đã chắc chắn?</h5>
  
                              </div>
                              <div class="modal-footer">
                                  <input id="transferSubmit" type="submit" value="Edit" class="btn btn-primary" ng-click="changeChainID()" >
                                  &nbsp;
                                  <button type="button" class="btn btn-danger btn-md"
                                      data-dismiss="modal">
                                      Cancel</button>
                                  
                              </div>
                          </div>
                      </div>
                  </div>
  
                  

                  <!-- Modal view result query 1 id-->
                  <div class="modal fade" id="myModal" role="dialog">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Thông tin</h4></br>
                            <h5 style="color:red;margin-bottom:2%" id="error_query">Error: Please enter a valid Pig Id</h5>
                          </div>
                          <div class="modal-body">
                              <div _ngcontent-lpg-c4="" class="row search-widget">
                                  <div >

                                    <table id="query_pig" class="table" align="center">
                                      <tr bgcolor="#007bff" >
                                        <th colspan="2" > Heo ở Nông trại </th>
                                      </tr>
                                      </tr>
                                      
                                      <tr> 
                                          <th> QRCode </th>
                                          <th > 
                                              <label id="text" type="text" 
                                              value="{{pig_id}}" style="Width:20%"
                                              onblur='generateBarCode();' > </label>

                                        <img id='barcode' 
                                              src="https://api.qrserver.com/v1/create-qr-code/?data= Key: {{pig_id}}&amp;size=50x50" 
                                              alt="" 
                                              title="HELLO" 
                                              width="50" 
                                              height="50" />
                                              
                                          </th>
                                      </tr>

                                      <tr> 
                                        <th> Tài khoản </th>
                                        <th > {{query_pig.farm_account}}</th>
                                      </tr>
                                        
                                      <tr> 
                                        <th> Người nuôi </th>
                                        <th> {{query_pig.famer}}</th>
                                      </tr>
                                      <tr>
                                        <th> Giống</th>
                                        <th > {{query_pig.species}}</th>
                                      </tr>
                                      <tr>
                                        <th> Thức ăn</th>
                                        <th > {{query_pig.food}}</th>
                                      </tr>
                                      <tr>
                                        <th> Bệnh - Chữa trị</th>
                                        <th > {{query_pig.sick_cure}}</th>
                                      </tr>
                                      <tr>
                                        <th> Chất lượng</th>
                                        <th > {{query_pig.farm_qualified}}</th>
                                      </tr>
                                      <tr>
                                        <th> Địa chỉ</th>
                                        <th > {{query_pig.farm_location}}</th>
                                      </tr>
                                      <tr>
                                        <th> Ngày nuôi</th>
                                        <th > {{query_pig.start_date_of_farming}}</th>
                                      </tr>
                                      <tr>
                                        <th> Ngày bán</th>
                                        <th > {{query_pig.end_date_of_farming}}</th>
                                      </tr>
                                    </table>
                                  </div>
                                  <div >
                                    <br>
                                    <table id="query_pig" class="table" align="center">
                                      <tr bgcolor="#007bff" >
                                        <th colspan="2" > Heo lúc Vận chuyển </th>
                                      </tr>
                                      <tr>
                                        <th> Tài khoản</th>
                                        <th > {{query_pig.transport_account}}</th>
                                      </tr>
                                      <tr>
                                        <th> Tên công ty</th>
                                        <th > {{query_pig.company}}</th>
                                      </tr>
                                      <tr> 
                                        <th> Người vận chuyển </th>
                                        <th > {{query_pig.transporter}}</th>
                                      </tr>
                                      <tr>
                                        <th> Phương tiện</th>
                                        <th > {{query_pig.vehicle}}</th>
                                      </tr>
                                      <tr>
                                        <th> Vấn đề</th>
                                        <th > {{query_pig.trouble}}</th>
                                      </tr>
                                      <tr>
                                        <th> Giải quyết</th>
                                        <th > {{query_pig.solution}}</th>
                                      </tr>
                                      <tr>
                                        <th> Chất lượng</th>
                                        <th > {{query_pig.transport_qualified}}</th>
                                      </tr>
                                      <tr>
                                        <th> Thời gian</th>
                                        <th > {{query_pig.time}}</th>
                                      </tr>
                                    </table>
                                  </div>
                                  <div >
                                    <table id="query_pig" class="table" align="center">
                                      <tr bgcolor="#007bff" >
                                        <th colspan="2" > Heo ở lò mổ </th>
                                      </tr>
                                      <tr>
                                        <th> Tài khoản</th>
                                        <th > {{query_pig.abattoir_account}}</th>
                                      </tr>
                                      <tr>
                                        <th> Tên lò mổ</th>
                                        <th > {{query_pig.abattoir_name}}</th>
                                      </tr>
                                      <tr> 
                                        <th> Địa chỉ </th>
                                        <th > {{query_pig.abattoir_location}}</th>
                                      </tr>
                                      <tr>
                                        <th> Chất lượng</th>
                                        <th > {{query_pig.abattoir_qualified}}</th>
                                      </tr>
                                      <tr>
                                        <th> Thời gian mổ</th>
                                        <th > {{query_pig.peck_time}}</th>
                                      </tr>
                                    </table>
                                  </div>
                                  <div >
                                    <table id="query_pig" class="table" align="center">
                                      <tr bgcolor="#007bff" >
                                        <th colspan="2" > Heo ở Siêu thị </th>
                                      </tr>
                                      <tr>
                                        <th> Tài khoản</th>
                                        <th > {{query_pig.supermaket_account}}</th>
                                      </tr>
                                      <tr>
                                        <th> Tên Siêu thị</th>
                                        <th > {{query_pig.supermarket_name}}</th>
                                      </tr>
                                      <tr> 
                                        <th> Chất lượng </th>
                                        <th > {{query_pig.supermarket_qualified}}</th>
                                      </tr>
                                      <!-- <tr>
                                        <th> Giá($/kg)</th>
                                        <th > {{query_pig.price}}</th>
                                      </tr>
                                      <tr>
                                        <th> Số lượng còn lại(kg)</th>
                                        <th > {{query_pig.quantity_remaining}}</th>
                                      </tr> -->
                                      <tr>
                                        <th> NSX</th>
                                        <th> {{query_pig.manufacturing_date}}</th>
                                      </tr>
                                      <tr>
                                        <th> HSD</th>
                                        <th > {{query_pig.expiry_date}}</th>
                                      </tr>
                              
                                    </table>
                                  </div>
                                </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                          </div>
                        </div>
                      </div>
                  </div>
                  
                  <!--Modal view user-->
                  <div class="modal fade" id="viewUserModal">
                      <div class="modal-dialog">

                          <!-- Modal content-->
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                      data-dismiss="modal">x</button>
                                  <h4 class="modal-title">Thông tin người dùng</h4> <br>
                              </div>
                              <div class="modal-body" style="overflow-x:auto;">
                                  <div class="form-group" >
                                    <p><input id="queryViewUser" type="hidden" value="Query" class="btn btn-primary" ng-click="queryViewUser()"></p>
                                  </div>
                                  
                                  <table border="0!important" id="query_view_user" align="center"  > 
                        
                                      <tr >
                                        <th class="th">
                                            ID: 
                                        </th>
                                        <th class="th">
                                            {{iduserLocalStorage}}
                                        </th>
                                      </tr>

                                      <tr >
                                        <th class="th">
                                            Username:
                                        </th>
                                        <th class="th">
                                            {{query_view_user.username}}
                                        </th>
                                      </tr>

                                      <tr >
                                        <th class="th">
                                            Password:
                                        </th>
                                        <th class="th">
                                            {{query_view_user.password}}
                                        </th>
                                        <th class="th">
                                            <button class="btn btn-primary btn-xs" ng-click="getKeyForUpdateWhenUpdatePassword(iduserLocalStorage)" data-toggle="modal" data-target="#editPassword">
                                                <i
                                                class="fa fa-edit"></i>
                                                Edit
                                              </button>
                                        </th>
                                      </tr>

                                      <tr>
                                        <th class="th">
                                            Email:
                                        </th>
                                        <th class="th">
                                            {{query_view_user.email}}
                                        </th>
                                        <th class="th">
                                            <button class="btn btn-primary btn-xs" ng-click="getKeyForUpdateWhenUpdateEmail(iduserLocalStorage)" data-toggle="modal" data-target="#editEmail">
                                                <i
                                                class="fa fa-edit"></i>
                                                Edit
                                              </button>
                                        </th>
                                      </tr>

                                      <tr >
                                        <th class="th">
                                          
                                            Chain ID:
                                        </th>
                                        <th class="th">
                                            {{query_view_user.chainid}}
                                        </th>
                                      </tr>

                                      <tr >
                                        <th class="th">
                                            Roles:
                                        </th>
                                        <th class="th">
                                            {{query_view_user.roles}}
                                        </th>
                                      </tr>

                                      <tr >
                                        <th class="th">
                                            Status:
                                        </th>
                                        <th class="th">
                                          {{query_view_user.status}}
                                        </th>
                                        
                                      </tr>
                                      
                                      <tr>
                                        <th class="th">
                                            Approve:
                                        </th>
                                        <th class="th">
                                            {{query_view_user.approve}}
                                        </th>
                                      </tr>
                                      
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
                  <!--End modal view user-->
                  
                  
                  <!-- modal editChainID -->
                  <div class="modal fade" id="editChainID">
                      <div class="modal-dialog">
                          
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                    data-dismiss="modal">x
                                  </button>
                                  <h4 class="modal-title">Edit Chain ID</h4> <br>
                              </div>
                              

                              
                              <div id="all_user" class="modal-body">
                                  <h5 style="color:green;margin-bottom:2%" id="success_editChainID">Success! Tx ID: {{edit_chainid}}</h5>
                                  <!-- <div class="form-group" >
                                    <p><input id="queryAllUser" type="submit" value="Query" class="btn btn-primary" ng-click="queryAllUser()"></p>
                                  </div> -->
                                  <!-- <h5 style="color:red;margin-bottom:2%" id="error_editChainID">Error: Please enter a valid Id</h5> -->
                                  <!-- Id cần cấp mã chuỗi:  -->
                                  <!-- <input class="form-control" name="assetSelect" placeholder="Ex: user1" ng-model="user.id"> -->
                                  <!-- <br> -->
                                  <!-- <select  class="form-control" name="assetSelect" ng-model="user.id">
                                    <option value="" disabled selected>Id cần cấp mã chuỗi </option>
                                    <option ng-repeat="user in all_user" value="{{user.Key}}">{{user.Key}}</option>
                                  </select> -->
                                  Mã chuỗi: 
                                  <input class="form-control" name="assetSelect" placeholder="Ex: 1" ng-model="user.chainid">
                                  <br>

                                  <h5>Bạn đã chắc chắn?</h5>

                              </div>
                              <div class="modal-footer">
                                  <input id="transferSubmit" type="submit" value="Edit" class="btn btn-primary" ng-click="changeChainID()" >
                                  &nbsp;
                                  <button type="button" class="btn btn-danger btn-md"
                                      data-dismiss="modal">
                                      Cancel</button>
                                  
                              </div>
                          </div>
                      </div>
                  </div>
                  
                  <!-- modal editRoles -->
                  <div class="modal fade" id="editRoles">
                      <div class="modal-dialog">

                          
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                    data-dismiss="modal">x
                                  </button>
                                  <h4 class="modal-title">Edit Role</h4> <br>
                              </div>
                              
                              
                              <div class="modal-body">
                                  <h5 style="color:green;margin-bottom:2%" id="success_editRoles">Success! Tx ID: {{edit_roles}}</h5>
                                  <!-- <h5 style="color:red;margin-bottom:2%" id="error_editRoles">Error: Please enter a valid Id</h5> -->
                                  <!-- Id cần cấp quyền: <input class="form-control" name="assetSelect" placeholder="Ex: user1" ng-model="user.id"> -->
                                  
                                  Roles: 
                                  <select id="all_user" class="form-control" name="assetSelect" ng-model="user.role">
                                      <option value="Admin">Admin</option>
                                      <option value="Farm">Farm</option>
                                      <option value="Transport">Transport</option>
                                      <option value="Abattoir">Abattoir</option>
                                      <option value="Supermarket">Supermarket</option>
                                  </select>
                                  <br>

                                  <h5>Bạn đã chắc chắn?</h5>

                              </div>
                              <div class="modal-footer">
                                  <input id="transferSubmit" type="submit" value="Edit" class="btn btn-primary" ng-click="changeRole()" >
                                  &nbsp;
                                  <button type="button" class="btn btn-danger btn-md"
                                      data-dismiss="modal">
                                      Cancel</button>
                                  
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- modal editStatus -->
                  <div class="modal fade" id="editStatus">
                      <div class="modal-dialog">

                          
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                    data-dismiss="modal">x
                                  </button>
                                  <h4 class="modal-title">Change Status</h4> <br>
                              </div>
                              

                              
                              <div class="modal-body">
                                  <h5 style="color:green;margin-bottom:2%" id="success_editStatus">Success! Tx ID: {{edit_status}}</h5>
                                  <!-- <h5 style="color:red;margin-bottom:2%" id="error_holder">Error: Please enter a valid Id</h5> -->
                                  <!-- Id cần thay đổi trạng thái: <input class="form-control" name="assetSelect" placeholder="Ex: user1" ng-model="user.id"> -->
                                  
                                  Chọn trạng thái: 
                                  <select class="form-control" name="assetSelect" ng-model="user.status">
                                      <option value="ENABLE">ENABLE</option>
                                      <option value="DISABLE">DISABLE</option>
                                  </select>
                                  
                                  <br>
                                  <h5>Bạn đã chắc chắn?</h5>

                              </div>
                              <div class="modal-footer">
                                  <input id="transferSubmit" type="submit" value="Change" class="btn btn-primary" ng-click="changeStatus()" >
                                  &nbsp;
                                  <button type="button" class="btn btn-danger btn-md"
                                      data-dismiss="modal">
                                      Cancel</button>
                                  
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- modal approveUser -->
                  <div class="modal fade" id="approveUser">
                      <div class="modal-dialog">

                          
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                    data-dismiss="modal">x
                                  </button>
                                  <h4 class="modal-title">Edit value</h4> <br>
                              </div>

                              
                              <div class="modal-body">
                                  <!-- <h5 style="color:green;margin-bottom:2%" id="success_approveUser">Success! Tx ID: {{approve_user}}</h5> -->
                                  <h5 style="color:red;margin-bottom:2%" id="error_approveUser">Error: Please enter a valid Id</h5>
                                  Id cần phê duyệt: <input class="form-control"  name="assetSelect" placeholder="Ex: user1" ng-model="user.id">
                                  
                                  <br>
                                  <h5>Bạn muốn phê duyệt?</h5>

                              </div>
                              <div class="modal-footer">
                                  <input id="transferSubmit" type="submit"  class="btn btn-primary" ng-click="changeApprove()" >
                                  &nbsp;
                                  <button type="button" class="btn btn-danger btn-md"
                                      data-dismiss="modal">
                                      Cancel</button>
                                  
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- modal editPassword -->
                  <div class="modal fade" id="editPassword">
                      <div class="modal-dialog">
                          
                          <div class="modal-content">
                              <div class="modal-header">
                                  <button type="button" class="close"
                                    data-dismiss="modal">x
                                  </button>
                                  <h4 class="modal-title">Đổi mật khẩu</h4> <br>
                              </div>
                              

                              
                              <div class="modal-body">
                                <form name="liveForm">
                                  <!-- <h5 style="color:green;margin-bottom:2%" id="success_editChainID">Success! Tx ID: {{edit_chainid}}</h5> -->
                                  <h5 style="color:red;margin-bottom:2%" id="error_editPassword">Error: Please enter a valid Id</h5>
                                  <!-- <label>Id cần đổi mật khẩu:</label>  
                                  <input class="form-control" name="assetSelect" placeholder="Ex: user1" ng-model="user.id">
                                  <br> -->
                                  <br>

                                  <label>Mật khẩu mới:</label>  
                                  <input class="form-control" name="user.password" placeholder="Mật khẩu" ng-model="user.password">
                                  <br>

                                  <label>Nhập lại mật khẩu:</label>  

                                  <input type="password" name="repeatPass" ng-model="repeatPass" required compare-to="user.password" class="form-control" />   

                                  <span class="error text-danger" ng-show="liveForm.repeatPass.$error.compareTo">  

                                      Passwords don't match.  

                                  </span>
                                </form>

                                  <h5 align="right">Bạn đã chắc chắn?</h5>

                              </div>
                              <div class="modal-footer">
                                  <input id="transferSubmit" type="submit" value="Edit" class="btn btn-primary" ng-click="changePassword()" >
                                  &nbsp;
                                  <button type="button" class="btn btn-danger btn-md"
                                      data-dismiss="modal">
                                      Cancel</button>
                                  
                              </div>
                          </div>
                      </div>
                    </div>
                
                    <!-- modal editEmail -->
                    <div class="modal fade" id="editEmail">
                        <div class="modal-dialog">
                            
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close"
                                      data-dismiss="modal">x
                                    </button>
                                    <h4 class="modal-title">Chỉnh sửa Email</h4> <br>
                                </div>
                                

                                
                                <div class="modal-body">
                                  <!-- <form name="liveForm"> -->
                                    <!-- <h5 style="color:green;margin-bottom:2%" id="success_editChainID">Success! Tx ID: {{edit_chainid}}</h5> -->
                                    <h5 style="color:red;margin-bottom:2%" id="error_editEmail">Error: Please enter a valid Id</h5>
                                    <!-- <span>Id cần đổi email:</span>
                                    
                                    <input class="form-control" name="assetSelect" placeholder="Ex: user1" ng-model="user.id">
                                     -->
                                    <span>Email mới:</span><br>
                                    
                                    <input class="form-control" name="user.email" placeholder="Email" ng-model="user.email">
                                    <br>

                                    
                                  <!-- </form> -->

                                    <h5>Bạn đã chắc chắn?</h5>

                                </div>
                                <div class="modal-footer">
                                    <input id="transferSubmit" type="submit" value="Edit" class="btn btn-primary" ng-click="changeEmail()" >
                                    &nbsp;
                                    <button type="button" class="btn btn-danger btn-md"
                                        data-dismiss="modal">
                                        Cancel</button>
                                    
                                </div>
                            </div>
                        </div>
                    </div>

                  <!-- END MODAL -->
                    
                </div>
                <!-- end tabpanel -->

              </div>
              <!-- end tabcontent -->
            </ngb-tabset>

          </div>
        </div>
      </div>  
    
    </app-home>
  
  </div>

  <app-footer-home-main _ngcontent-plj-c1="" _nghost-plj-c3="">
    <footer _ngcontent-plj-c3="" class="col-lg-12 text-center">

    </footer>
  </app-footer-home-main>
    
</div>
